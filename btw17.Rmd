---
title: "BTW 2017"
author: "People"
date: "`r Sys.time()`"
output: 
  html_document: 
    self_contained: no
    toc: yes
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, fig.path = "plots/")

source("dataprep.R")
```


```{r bars_by_state}
partei_colors <- c(
  AfD = "lightblue",
  CDU = "black",
  CSU = "blue",
  `DIE LINKE` = "purple",
  FDP = "yellow",
  `GRÃœNE` = "green",
  Sonstige = "gray",
  SPD = "red"
  )

# first Plot attempt
btw_long %>%
  ggplot(aes(x = reorder(Parteien, Prozent), y = Prozent, fill = Parteien)) +
  geom_col() +
  scale_y_continuous(labels = scales::percent) +
  scale_fill_manual(values = partei_colors) +
  labs(title = "Stimmanteil aller Parteien >5% pro Bundesland") +
  facet_wrap(~Laendernamen) +
  coord_flip()
```

